<p-toast></p-toast>
<p-toolbar [style]="{ height: '100px' }">
    <div class="p-toolbar-group-start">
        <img src="assets/icons/icon-72x72.png" alt="logo" />
    </div>
    <div class="p-toolbar-group-center">
        {{ title }}
    </div>
    <div class="p-toolbar-group-end">
      <button type="button" class="p-button p-button-text" (click)="openCartPopup()">
        <i class="pi pi-shopping-cart" style="font-size: 2rem"></i>
      </button>
    </div>
</p-toolbar>
<p-splitter 
    [panelSizes]="[20, 80]" 
    [style]="{ height: 'calc(100vh - 100px)' }">
    <ng-template pTemplate>
        <div class="w-full">
            <app-panel-menu />
        </div>
    </ng-template>
    <ng-template pTemplate>
        <div class="w-full app-content">
            <router-outlet></router-outlet>
        </div>
    </ng-template>
</p-splitter>

<div class="cart-overlay" *ngIf="isCartOpen" (click)="closeCartPopup()">
  <div class="cart-modal" (click)="$event.stopPropagation()">
    <div class="cart-modal-header">
      <h3>Votre panier</h3>
      <button type="button" class="p-button p-button-text" (click)="closeCartPopup()">
        <i class="pi pi-times"></i>
      </button>
    </div>

    <div *ngIf="cartItems.length === 0" class="cart-empty">
      Ajoutez des produits dans l'onglet produits pour alimenter votre liste
    </div>

    <div *ngIf="cartItems.length > 0" class="cart-items">
      <div class="cart-item" *ngFor="let item of cartItems">
        <img [src]="item.product.image" [alt]="item.product.name" />
        <div class="cart-item-info">
          <div class="cart-item-name">{{ item.product.name }}</div>
          <div class="cart-item-desc">{{ item.product.description }}</div>
          <div class="cart-item-price">{{ item.product.price }} â‚¬</div>
        </div>
      </div>
    </div>
  </div>
</div>